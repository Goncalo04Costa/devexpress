@page "/upload"
@using Microsoft.AspNetCore.Components.Forms


<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
<link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet" />

<h3>Upload de Arquivo</h3>

<!-- Componente InputFile que dispara o evento FileUploaded -->
<InputFile OnChange="FileUploaded" />

@if (!string.IsNullOrEmpty(FileName))
{
    <div>
        <p><strong>Nome do Arquivo:</strong> @FileName</p>
        <p><strong>Tamanho:</strong> @FileSize bytes</p>
        <p><strong>Tipo:</strong> @FileType</p>
        <p><strong>Última modificação:</strong> @LastModified</p>
    </div>
}

@code {
    // Propriedades para armazenar informações do arquivo
    private long FileSize { get; set; }
    private string FileType { get; set; }
    private string FileName { get; set; }
    private DateTimeOffset LastModified { get; set; }

    // Método acionado quando o usuário seleciona um arquivo
    private async Task FileUploaded(InputFileChangeEventArgs e)
    {
        // Para upload único, usamos e.File.
        // Se desejar trabalhar com múltiplos arquivos, utilize e.GetMultipleFiles().
        var browserFile = e.File;

        if (browserFile != null)
        {
            FileSize = browserFile.Size;
            FileType = browserFile.ContentType;
            FileName = browserFile.Name;
            LastModified = browserFile.LastModified;

            // Exemplo: para ler o conteúdo do arquivo, você pode utilizar:
            // using var stream = browserFile.OpenReadStream();
            // ... (processamento adicional, se necessário)
        }
    }
}
